{
  "permissions": {
    "allow": [
      "WebSearch",
      "WebFetch(domain:hls-dhs-dss.ch)",
      "WebFetch(domain:www.familienrechtsinfo.ch)",
      "Bash(pip install:*)",
      "Bash(python -m pip install:*)",
      "Bash(python3 -m pip install:*)",
      "Bash(bash:*)",
      "Bash(hugo version:*)",
      "Bash(pip:*)",
      "Bash(pip3:*)",
      "Bash(git --version:*)",
      "WebFetch(domain:20min.ch)",
      "WebFetch(domain:zueritoday.ch)",
      "WebFetch(domain:tsri.ch)",
      "WebFetch(domain:www.srf.ch)",
      "Bash(HUGO=\"/c/Users/Alen Gorgievski/AppData/Local/Microsoft/WinGet/Packages/Hugo.Hugo.Extended_Microsoft.Winget.Source_8wekyb3d8bbwe/hugo.exe\")",
      "Bash(\"$HUGO\" --minify)",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\" scripts/pipeline.py)",
      "Bash(ls:*)",
      "Bash(\"$HUGO\" server -D)",
      "WebFetch(domain:zueriost.ch)",
      "WebFetch(domain:www.limmattalerzeitung.ch)",
      "WebFetch(domain:www.blick.ch)",
      "WebFetch(domain:www.nzz.ch)",
      "WebFetch(domain:www.zo-online.ch)",
      "WebFetch(domain:www.tagesanzeiger.ch)",
      "WebFetch(domain:www.zsz.ch)",
      "WebFetch(domain:www.watson.ch)",
      "WebFetch(domain:www.stadt-zuerich.ch)",
      "WebFetch(domain:www.zh.ch)",
      "WebFetch(domain:www.tagblattzuerich.ch)",
      "WebFetch(domain:www.toponline.ch)",
      "WebFetch(domain:www.radio1.ch)",
      "WebFetch(domain:www.telezueri.ch)",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\" scripts/pipeline.py --dry-run)",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\" -c \"\nimport json\n# Reset dedup hashes so the new run picks fresh articles\nwith open\\(''data/scraped_hashes.json'', ''w''\\) as f:\n    json.dump\\({}, f\\)\nprint\\(''Dedup hashes reset''\\)\n\")",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git remote add:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(git pull:*)",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\" --version)",
      "WebFetch(domain:zuerichnews-ch.pages.dev)",
      "Bash(PYTHON=\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\":*)",
      "Bash(\"$PYTHON\" -c \"\nimport os\nos.environ[''PEXELS_API_KEY''] = ''Jt3QXc3kxy3uczyFXjTLB8MJikdfYxMRBLTa32tSxekcczmnN2DBymoN''\nimport requests\nresp = requests.get\\(\n    ''https://api.pexels.com/v1/search'',\n    params={''query'': ''Zürich Polizei'', ''per_page'': 3, ''orientation'': ''landscape''},\n    headers={''Authorization'': os.environ[''PEXELS_API_KEY'']},\n    timeout=15,\n\\)\nprint\\(f''Status: {resp.status_code}''\\)\ndata = resp.json\\(\\)\nphotos = data.get\\(''photos'', []\\)\nprint\\(f''Ergebnisse: {len\\(photos\\)}''\\)\nfor p in photos:\n    print\\(f''  - {p[\"\"width\"\"]}x{p[\"\"height\"\"]} von {p[\"\"photographer\"\"]}''\\)\n    print\\(f''    {p[\"\"src\"\"][\"\"landscape\"\"]}''\\)\n\")",
      "Bash(\"$PYTHON\" -c \"\nimport sys, os\nsys.path.insert\\(0, ''.''\\)\nfrom dotenv import load_dotenv\nload_dotenv\\(\\)\n\nfrom scripts.image_fetcher import fetch_image\n\n# Test with a sample article\ntest_article = {\n    ''slug'': ''test-image-fetch'',\n    ''title'': ''Jugendliche Raser schockieren Kantonspolizei Zürich'',\n    ''tags'': [''Kantonspolizei'', ''Jugendkriminalität'', ''Verkehrssicherheit'', ''Dübendorf''],\n}\n\nresult = fetch_image\\(test_article\\)\nprint\\(f''\\\\nResult: {result}''\\)\n\")",
      "Bash(\"$PYTHON\" -c \"\nimport sys, os, re, glob\nsys.path.insert\\(0, ''.''\\)\nfrom dotenv import load_dotenv\nload_dotenv\\(\\)\nfrom scripts.image_fetcher import fetch_image\n\n# Read all existing articles and fetch images\nfor f in sorted\\(glob.glob\\(''content/artikel/*.md''\\)\\):\n    if ''_index.md'' in f:\n        continue\n    slug = os.path.basename\\(f\\).replace\\(''.md'', ''''\\)\n    \n    # Parse front matter\n    with open\\(f, ''r'', encoding=''utf-8''\\) as fh:\n        content = fh.read\\(\\)\n    \n    # Skip if already has image\n    if ''image:'' in content:\n        print\\(f''[skip] {slug} already has image''\\)\n        continue\n    \n    # Extract title and tags\n    title_match = re.search\\(r''title: \"\"\\(.+?\\)\"\"'', content\\)\n    title = title_match.group\\(1\\) if title_match else ''''\n    tags = re.findall\\(r''  - \"\"\\(.+?\\)\"\"'', content\\)\n    \n    article = {''slug'': slug, ''title'': title, ''tags'': tags}\n    image_path = fetch_image\\(article\\)\n    \n    if image_path:\n        # Add image to front matter\n        content = content.replace\\(''tags:'', f''image: \"\"{image_path}\"\"\\\\ntags:'', 1\\)\n        with open\\(f, ''w'', encoding=''utf-8''\\) as fh:\n            fh.write\\(content\\)\n        print\\(f''  -> Added to front matter''\\)\n    print\\(\\)\n\")",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Microsoft/WinGet/Packages/Hugo.Hugo.Extended_Microsoft.Winget.Source_8wekyb3d8bbwe/hugo.exe\" server -D)",
      "WebFetch(domain:ai.google.dev)",
      "Bash(\"/c/Users/Alen Gorgievski/AppData/Local/Programs/Python/Python312/python.exe\" -m pip install google-genai Pillow)",
      "Bash(\"$PYTHON\" -c \"\nimport sys, os\nsys.path.insert\\(0, ''.''\\)\nfrom dotenv import load_dotenv\nload_dotenv\\(\\)\n\nfrom scripts.image_fetcher import fetch_image\n\ntest = {\n    ''slug'': ''test-gemini-image'',\n    ''title'': ''Jugendliche Raser schockieren Kantonspolizei Zürich: Verhaftungen nach nächtlichen Verfolgungsjagden'',\n    ''tags'': [''Kantonspolizei'', ''Jugendkriminalität'', ''Verkehrssicherheit'', ''Dübendorf''],\n}\nresult = fetch_image\\(test\\)\nprint\\(f''Result: {result}''\\)\n\")",
      "Bash(\"$PYTHON\" -c \"\nimport os\nfrom dotenv import load_dotenv\nload_dotenv\\(\\)\nfrom google import genai\n\nclient = genai.Client\\(api_key=os.getenv\\(''GOOGLE_API_KEY''\\)\\)\nfor m in client.models.list\\(\\):\n    name = m.name\n    if ''image'' in name.lower\\(\\) or ''flash'' in name.lower\\(\\) or ''imagen'' in name.lower\\(\\):\n        print\\(name\\)\n\")",
      "Bash(\"$PYTHON\" -c \"\nimport os\nfrom dotenv import load_dotenv\nload_dotenv\\(\\)\nfrom google import genai\nfrom google.genai import types\n\nclient = genai.Client\\(api_key=os.getenv\\(''GOOGLE_API_KEY''\\)\\)\n\n# Try imagen-4.0-fast\ntry:\n    response = client.models.generate_images\\(\n        model=''imagen-4.0-fast-generate-001'',\n        prompt=''Swiss police car on a dark highway at night, photorealistic'',\n        config=types.GenerateImagesConfig\\(\n            number_of_images=1,\n        \\),\n    \\)\n    if response.generated_images:\n        img = response.generated_images[0].image\n        img.save\\(''static/images/articles/test-imagen.png''\\)\n        print\\(''Imagen 4 Fast: SUCCESS''\\)\n    else:\n        print\\(''Imagen 4 Fast: No images returned''\\)\nexcept Exception as e:\n    print\\(f''Imagen 4 Fast: {e}''\\)\n\")",
      "Bash(\"$PYTHON\":*)",
      "Bash(\"$PYTHON\" -c \"\nimport glob, re\n\nfor f in glob.glob\\(''content/artikel/*.md''\\):\n    if ''_index.md'' in f:\n        continue\n    with open\\(f, ''r'', encoding=''utf-8''\\) as fh:\n        content = fh.read\\(\\)\n    if ''image:'' in content:\n        content = re.sub\\(r''image: \"\".*?\"\"\\\\n'', '''', content\\)\n        with open\\(f, ''w'', encoding=''utf-8''\\) as fh:\n            fh.write\\(content\\)\n        print\\(f''Removed image from: {f}''\\)\n\")",
      "Bash(gh workflow run:*)",
      "WebFetch(domain:github.com)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(npx astro build:*)",
      "Bash(start //B npx astro dev:*)"
    ]
  }
}
